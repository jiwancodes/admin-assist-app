{"ast":null,"code":"var _jsxFileName = \"/home/jiwan/Desktop/task/client/db-admin-assist/src/App.js\",\n    _s = $RefreshSig$();\n\nimport { React, useState, useEffect } from 'react';\nimport SearchBar from 'material-ui-search-bar';\nimport BasicTable from './components/Table';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const [showTable, setshowTable] = useState(false);\n  const [searchValue, setsearchValue] = useState(\"\"); // const [rows, setRows] = useState<food[]>(originalRows);\n\n  const [userDetails, setuserDetails] = useState(\"\");\n  const [chooseDatabase, setchooseDatabase] = useState(\"npstock\");\n  useEffect(() => {\n    axios.get(\"http://localhost:5000/user/details/npstock\").then(response => {\n      console.log(\"here are rows\");\n      console.log(response.data.msg);\n      console.log(response.data.rows);\n      var tempData = JSON.parse(response.data.rows);\n      setuserDetails(tempData);\n      console.log(userDetails);\n      setshowTable(true);\n    });\n  }, []);\n\n  const fetchAllDataByOption = option => {\n    axios.get(`http://localhost:5000/user/details/${option}`).then(response => {\n      console.log(\"here are rows\");\n      console.log(response.data.msg);\n      console.log(response.data.rows);\n      var tempData = JSON.parse(response.data.rows);\n      setuserDetails(tempData);\n      console.log(userDetails);\n      setshowTable(true);\n    });\n  };\n\n  const onOptionChangeHandler = event => {\n    console.log(\"onchangeHandler called\");\n    event.preventDefault();\n    console.log(event.target.value);\n    setchooseDatabase(event.target.value);\n    fetchAllDataByOption(event.target.value);\n  }; // const searchHandler = () => {\n  //   console.log(\"enter pressed\");\n  //     axios.post(\"http://localhost:5000/user/search\", { \"database\": chooseDatabase, \"value\": searchValue }).then((response) => {\n  //       console.log(\"here are rows\");\n  //       console.log(response.data.msg);\n  //       console.log(response.data.rows);\n  //       var tempData = JSON.parse(response.data.rows);\n  //       setuserDetails(tempData);\n  //       console.log(userDetails);\n  //       setshowTable(true);\n  //     })\n  // }\n\n\n  const requestSearch = searchedVal => {\n    const filteredRows = userDetails.filter(row => {\n      return row.name.toLowerCase().includes(searchedVal.toLowerCase());\n    });\n    setuserDetails(filteredRows);\n  };\n\n  const cancelSearch = () => {\n    setsearchValue(\"\");\n    requestSearch(searchValue);\n  };\n\n  const renderTable = () => {\n    if (showTable) {\n      return /*#__PURE__*/_jsxDEV(BasicTable, {\n        rows: userDetails\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 14\n      }, this);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"searchBarWrapper\",\n      style: {\n        width: \"80%\",\n        margin: \"10px auto\",\n        position: \"fixed\",\n        top: 0,\n        left: \"10%\",\n        display: \"inline\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(SearchBar, {\n        value: searchValue,\n        onChange: searchVal => requestSearch(searchVal),\n        onCancelSearch: () => cancelSearch()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        value: chooseDatabase,\n        onChange: onOptionChangeHandler,\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          name: \"npstocks\",\n          value: \"npstock\",\n          children: \"npstock\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          name: \"systemxlite\",\n          value: \"systemxlite\",\n          children: \"systemxlite\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"tableWrapper\",\n      style: {\n        margin: \"60px 10px 10px 10px\"\n      },\n      children: renderTable()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"k73YNGjCIqYdoNaoM5steiRIv5o=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/home/jiwan/Desktop/task/client/db-admin-assist/src/App.js"],"names":["React","useState","useEffect","SearchBar","BasicTable","axios","App","showTable","setshowTable","searchValue","setsearchValue","userDetails","setuserDetails","chooseDatabase","setchooseDatabase","get","then","response","console","log","data","msg","rows","tempData","JSON","parse","fetchAllDataByOption","option","onOptionChangeHandler","event","preventDefault","target","value","requestSearch","searchedVal","filteredRows","filter","row","name","toLowerCase","includes","cancelSearch","renderTable","width","margin","position","top","left","display","searchVal"],"mappings":"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","sourcesContent":["import { React, useState, useEffect } from 'react'\nimport SearchBar from 'material-ui-search-bar'\nimport BasicTable from './components/Table'\nimport axios from 'axios'\n\nfunction App() {\n  const [showTable, setshowTable] = useState(false);\n  const [searchValue, setsearchValue] = useState(\"\");\n  // const [rows, setRows] = useState<food[]>(originalRows);\n  const [userDetails, setuserDetails] = useState(\"\");\n  const [chooseDatabase, setchooseDatabase] = useState(\"npstock\")\n  useEffect(() => {\n    axios.get(\"http://localhost:5000/user/details/npstock\").then((response) => {\n      console.log(\"here are rows\");\n      console.log(response.data.msg);\n      console.log(response.data.rows);\n      var tempData = JSON.parse(response.data.rows);\n      setuserDetails(tempData);\n      console.log(userDetails);\n      setshowTable(true);\n    })\n\n  }, [])\n\n  const fetchAllDataByOption = (option) => {\n    axios.get(`http://localhost:5000/user/details/${option}`).then((response) => {\n      console.log(\"here are rows\");\n      console.log(response.data.msg);\n      console.log(response.data.rows);\n      var tempData = JSON.parse(response.data.rows);\n      setuserDetails(tempData);\n      console.log(userDetails);\n      setshowTable(true);\n    })\n  }\n\n  const onOptionChangeHandler = (event) => {\n    console.log(\"onchangeHandler called\");\n    event.preventDefault();\n    console.log(event.target.value);\n    setchooseDatabase(event.target.value);\n    fetchAllDataByOption(event.target.value);\n\n  }\n  // const searchHandler = () => {\n  //   console.log(\"enter pressed\");\n  //     axios.post(\"http://localhost:5000/user/search\", { \"database\": chooseDatabase, \"value\": searchValue }).then((response) => {\n  //       console.log(\"here are rows\");\n  //       console.log(response.data.msg);\n  //       console.log(response.data.rows);\n  //       var tempData = JSON.parse(response.data.rows);\n  //       setuserDetails(tempData);\n  //       console.log(userDetails);\n  //       setshowTable(true);\n  //     })\n  // }\n  const requestSearch = (searchedVal) => {\n    const filteredRows = userDetails.filter((row) => {\n      return row.name.toLowerCase().includes(searchedVal.toLowerCase());\n    });\n  setuserDetails(filteredRows);\n};\n\nconst cancelSearch = () => {\n  setsearchValue(\"\");\n  requestSearch(searchValue);\n};\n  \n  const renderTable = () => {\n    if (showTable) {\n      return <BasicTable rows={userDetails} />\n    }\n  }\n\n\n  return (\n    <div className=\"App\">\n      <div className=\"searchBarWrapper\" style={{\n        width: \"80%\", margin: \"10px auto\", position: \"fixed\",\n        top: 0, left: \"10%\", display: \"inline\"\n      }}>\n        <SearchBar\n          value={searchValue}\n          onChange={(searchVal) => requestSearch(searchVal)}\n    onCancelSearch={() => cancelSearch()}\n        />\n        <select value={chooseDatabase} onChange={onOptionChangeHandler}>\n          <option name=\"npstocks\" value=\"npstock\">npstock</option>\n          <option name=\"systemxlite\" value=\"systemxlite\">systemxlite</option>\n        </select>\n      </div>\n      <div className=\"tableWrapper\" style={{ margin: \"60px 10px 10px 10px\", }}>\n        {renderTable()}\n\n      </div>\n\n    </div>\n  )\n}\n\nexport default App\n"]},"metadata":{},"sourceType":"module"}