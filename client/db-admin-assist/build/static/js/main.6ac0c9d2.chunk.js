(this["webpackJsonpdb-admin-assist"]=this["webpackJsonpdb-admin-assist"]||[]).push([[0],{115:function(e,t,a){},171:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),s=a(17),i=a.n(s),r=(a(115),a(21)),o=a(103),l=a.n(o),j=a(195),d=a(197),b=a(201),u=a(200),h=a(196),O=a(198),x=a(199),p=a(88),f=a(205),m=a(202),g=a(57),v=a.n(g),y=a(106),w=a(204),S=a(203),C=a(3);function D(e){return Object(C.jsx)(S.a,Object(y.a)({elevation:6,variant:"filled"},e))}var k=Object(j.a)((function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}}));function N(e){var t=k(),a=function(t,a){"clickaway"!==a&&e.setOpen(!1)};return Object(C.jsx)("div",{className:t.root,children:Object(C.jsx)(w.a,{anchorOrigin:{vertical:"center",horizontal:"center"},open:e.open,autoHideDuration:3e3,onClose:a,children:Object(C.jsx)(D,{onClose:a,severity:e.responseData.success?"success":"error",children:e.responseData.msg})})})}var B={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",width:"auto"}};var E=function(e){var t=c.a.useState(!1),a=Object(r.a)(t,2),n=a[0],s=a[1],i=c.a.useState("fiveDays"),o=Object(r.a)(i,2),l=o[0],j=o[1],d=c.a.useState(!1),b=Object(r.a)(d,2),u=b[0],h=b[1],O=c.a.useState(!1),x=Object(r.a)(O,2),p=x[0],g=x[1],y=c.a.useState(!1),w=Object(r.a)(y,2),S=w[0],D=w[1],k=c.a.useState(!1),E=Object(r.a)(k,2),A=E[0],W=E[1],J=function(){D(!1),s(!1),e.fetchAllDataByOption(e.database)};return Object(C.jsxs)("div",{style:B,children:[Object(C.jsx)(N,{open:u,setOpen:h,responseData:A}),Object(C.jsx)(f.a,{onClick:function(){s(!0)},children:"Extend Expiry Date"}),Object(C.jsxs)(m.a,{show:n,onRequestClose:J,style:B,children:[Object(C.jsxs)(m.a.Header,{style:{display:"flex",justifyContent:"sapace-between"},children:[Object(C.jsxs)("p",{children:[Object(C.jsx)("b",{children:"User Name :"})," ",Object(C.jsx)("b",{children:e.row.username})]}),Object(C.jsx)("button",{onClick:J,children:"close"})]}),Object(C.jsxs)(m.a.Body,{children:[Object(C.jsx)("h2",{style:{margin:1,padding:2,color:"red"},children:"Warning!!"}),Object(C.jsx)("h4",{style:{margin:1,padding:2,color:"f00000"},children:"This may alter the database. So be sure before commiting to change."}),Object(C.jsxs)("div",{style:{margin:5,padding:2,display:"flex",justifyContent:"flex-end"},children:["Extend expiry date of user by:",Object(C.jsxs)("select",{value:l,onChange:function(e){j(e.target.value)},children:[Object(C.jsx)("option",{value:"fiveDays",children:"5 days"}),Object(C.jsx)("option",{value:"oneYear",children:"1 year"}),Object(C.jsx)("option",{value:"lifeTime",children:"life time"})]})]})]}),Object(C.jsx)(m.a.Footer,{children:Object(C.jsx)("div",{style:{display:"flex",justifyContent:"flex-end"},children:Object(C.jsx)("button",{disabled:p||S,onClick:function(){g(!0);var t={option:l,database:e.database,row:e.row};v.a.post("http://localhost:5000/user/expdate/add",t).then((function(e){console.log(e.data),D(e.data.success),W(e.data),h(!0)})).catch((function(e){h(!0),console.log(e)})).finally((function(){g(!1),J()}))},children:p||S?p?"Submitting...":"Updated":"commit"})})})]})]})},A=Object(j.a)({table:{minWidth:750,maxWidth:1e3,margin:"auto"}});function W(e){var t=A(),a=e.rows;return Object(C.jsx)(h.a,{component:p.a,children:Object(C.jsxs)(d.a,{className:t.table,"aria-label":"simple table",children:[Object(C.jsx)(O.a,{children:Object(C.jsxs)(x.a,{children:[Object(C.jsx)(u.a,{align:"center",children:Object(C.jsx)("b",{children:"SN"})}),Object(C.jsx)(u.a,{align:"center",children:Object(C.jsx)("b",{children:"Username"})}),Object(C.jsx)(u.a,{align:"center",children:Object(C.jsx)("b",{children:"Phone"})}),Object(C.jsx)(u.a,{align:"center",children:Object(C.jsx)("b",{children:"Expiry Date"})}),Object(C.jsx)(u.a,{align:"center",children:Object(C.jsx)("b",{children:"Update Expiry Date"})})]})}),Object(C.jsx)(b.a,{children:a.map((function(t,a){return Object(C.jsxs)(x.a,{children:[Object(C.jsx)(u.a,{component:"th",align:"center",scope:"row",children:a+1}),Object(C.jsx)(u.a,{align:"center",children:t.username}),Object(C.jsx)(u.a,{align:"center",children:t.phone}),Object(C.jsx)(u.a,{align:"center",children:t.expiry_date}),Object(C.jsx)(u.a,{align:"center",children:Object(C.jsx)(E,{row:t,database:e.database,fetchAllDataByOption:e.fetchAllDataByOption})})]},a)}))})]})})}var J=function(){var e=Object(n.useState)(!1),t=Object(r.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(""),i=Object(r.a)(s,2),o=i[0],j=i[1],d=Object(n.useState)(""),b=Object(r.a)(d,2),u=b[0],h=b[1],O=Object(n.useState)("npstock"),x=Object(r.a)(O,2),p=x[0],f=x[1];Object(n.useEffect)((function(){v.a.get("http://localhost:5000/user/details/npstock").then((function(e){console.log("here is response message",e.data.msg);var t=JSON.parse(e.data.rows);h(t),c(!0)}))}),[]);var m=function(e){console.log("fetche data called"),v.a.get("http://localhost:5000/user/details/".concat(e)).then((function(e){var t=JSON.parse(e.data.rows);h(t),c(!0)}))};return Object(C.jsxs)("div",{className:"App",children:[Object(C.jsxs)("div",{className:"searchBarWrapper",style:{width:"80%",minWidth:500,margin:"10px auto",position:"fixed",top:0,left:"10%",display:"flex",justifyContent:"space-around"},children:[Object(C.jsx)(l.a,{value:o,onChange:function(e){j(e)},onRequestSearch:function(){return function(e){var t=u.filter((function(t){return t.username.toLowerCase().includes(e.toLowerCase())||t.phone.includes(e)}));h(t)}(o)},onCancelSearch:function(){return j(""),void m(p)},style:{width:500}}),Object(C.jsxs)("select",{value:p,onChange:function(e){console.log("onchangeHandler called"),e.preventDefault(),f(e.target.value),m(e.target.value)},children:[Object(C.jsx)("option",{name:"npstocks",value:"npstock",children:"npstock"}),Object(C.jsx)("option",{name:"systemxlite",value:"systemxlite",children:"systemxlite"})]})]}),Object(C.jsx)("div",{className:"tableWrapper",style:{margin:"60px 10px 10px 10px"},children:function(){if(a)return Object(C.jsx)(W,{rows:u,database:p,fetchAllDataByOption:m})}()})]})},U=a(105),H=a(10);var R=function(){return Object(C.jsx)(U.a,{children:Object(C.jsxs)("div",{className:"App",children:[Object(C.jsx)(H.b,{exact:!0,path:"/",component:function(){return Object(C.jsx)(H.a,{to:"/manualupdate"})}}),Object(C.jsx)(H.b,{exact:!0,path:"/manualupdate",component:J})]})})};a(168);i.a.render(Object(C.jsx)(c.a.StrictMode,{children:Object(C.jsx)(R,{})}),document.getElementById("root"))}},[[171,1,2]]]);
//# sourceMappingURL=main.6ac0c9d2.chunk.js.map